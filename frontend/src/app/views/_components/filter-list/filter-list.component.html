<h1>{{name}}</h1>
<ng-content></ng-content>
<div class="item-grid">
  @for (item of list | async; track item; let index=$index) {
      @if (index < 20) {
        <ng-container *ngTemplateOutlet="template; context: {item:item}"></ng-container>
      }
      @else {
        @defer (on viewport(loadingSpinner); when loadAll) {
          <ng-container *ngTemplateOutlet="template; context: {item:item}"></ng-container>
        }
      }
  }
</div>
<div #loadingSpinner class="d-flex justify-content-center"
  [style]="hide || (list | async)?.length < 20 ? 'display: none !important;' : null">
  <div class="loader" role="status">
    <span class="sr-only">Loading...</span>
  </div>
</div>