@if (!error) {
  <ng-template #template let-item="item">
    <item
      [item]="item"
      url="/{{gameURL}}/items/{{item.slug}}/{{language}}"
      imgURL="{{imgURL}}items/{{item.slug}}.webp?v=1"
      (buttonClicked)="openDialog($event)"
      dimension="256">
      <ng-container icon>
        @if (item.isDLC) {
          <span class="badge bg-secondary">DLC</span>
        }
      </ng-container>
      <ul style="list-style-type:none;padding-left:0;">
        @for (cat of item.category; track cat) {
          <li>{{cat.name}}</li>
        }
      </ul>
    </item>
  </ng-template>
  <filter-list
    [list]="filteredItems"
    name="Items"
    [(hide)]="hide"
    [template]="template">
    <form [formGroup]="pageForm" class="form-horizontal">
      <div class="row">
        <mat-form-field class="col-md-12" appearance="outline">
          <mat-label>Filter...</mat-label>
          <input matInput formControlName="filtertext">
        </mat-form-field>
      </div>
      <div class="row">
        <mat-form-field class="col-md-4" appearance="outline">
          <mat-label>Category</mat-label>
          <mat-select matNativeControl formControlName="category" disableOptionCentering="true" class="mat-select-icon">
            <mat-option value="Any" selected>Any</mat-option>
            @if (data) {
              @for (cat of data.categories; track cat) {
                <mat-option value="{{cat.name}}">
                  {{cat.name}}
                </mat-option>
              }
            }
          </mat-select>
        </mat-form-field>
        <mat-form-field class="col-md-4" appearance="outline">
          <mat-label>Type</mat-label>
          <mat-select matNativeControl formControlName="type" disableOptionCentering="true" class="mat-select-icon">
            <mat-option value="Any" selected>Any</mat-option>
            <mat-option value="Materials">Materials</mat-option>
            <mat-option value="Use">Use</mat-option>
            <mat-option value="Craft">Craft</mat-option>
            <mat-option value="Key Items">Key Items</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </form>
  </filter-list>
}