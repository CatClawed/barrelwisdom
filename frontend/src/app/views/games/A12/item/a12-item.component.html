@if (data; as item) {
    <div [class]="inputSlug ? 'card card-dialog' : 'card card-medium'">
      <h4 class="card-title card-icon-space">{{item.name}}</h4>
      @if (item.level) {
        <b class="card-icon-position">LV {{item.level}}</b>
      }
      <img class="card-item-display" src="{{imgURL}}items/{{item.slug}}.webp?v=1"
        alt="{{item.name}}" style="aspect-ratio: 1; width: 240px;">
      <p>{{item.desc}}</p>
      @if (item.book_set) {
        <p><b>Recipe Book: </b><a routerLink="/{{gameURL}}/recipe-books/{{item.book_set[0].slug}}/{{language}}">{{item.book_set[0].name}}</a></p>
      }
      <table class="table-item-data"><tbody>
        @for (cat of item.categories; track cat) {
          <tr>
            <td><i class="atelier atelier-{{cat.icon_name}}"></i></td><td><a routerLink="/{{gameURL}}/categories/{{cat.slug}}/{{language}}">{{cat.name}}</a></td>
          </tr>
        }
      </tbody></table>
      @if (item.locations) {
        <b>Locations:</b>
      }
      @if (item.locations) {
        <ul>
          @for (loc of item.locations; track loc) {
            <li>
              @if (loc.parentslug) {
                <a routerLink="/{{gameURL}}/locations/{{loc.parentslug}}/{{language}}" fragment="{{loc.slug}}">{{loc.name}}</a>
              }
              @if (!loc.parentslug) {
                <a routerLink="/{{gameURL}}/locations/{{loc.slug}}/{{language}}">{{loc.name}}</a>
              }</li>
            }
          </ul>
        }
        @if (item.monsters) {
          <b>Monsters:</b>
        }
        @if (item.monsters) {
          <ul>
            @for (mon of item.monsters; track mon) {
              <li><a routerLink="/{{gameURL}}/monsters/{{mon.slug}}/{{language}}">{{mon.name}}</a></li>
            }
          </ul>
        }
        @if (item.traits) {
          <b>Trait:</b>
        }
        @if (item.traits) {
          <ul>
            <li><a routerLink="/{{gameURL}}/traits/{{item.traits.slug}}/{{language}}">{{item.traits.name}}</a></li>
          </ul>
        }
          <ul style="list-style:none;padding:0;">
            @if (item.time) {
              <li>Time: {{item.time}}</li>
            }
            @if (item.mp) {
              <li>MP Used: {{item.mp}}</li>
            }
            @if (item.price) {
              <li>Selling Price: {{item.price}}</li>
            }
            @if (item.uses) {
              <li>Uses: {{item.uses}}</li>
            }
          </ul>
        @if (item.ingredient_set) {
          <table class="tbl"><tbody>
            <tr>
              <th>Ingredients</th>
            </tr>
            <tr><td>
              <ul>
                @for (ing of item.ingredient_set; track ing) {
                  <li>@if (ing.item) {
                    <a routerLink="/{{gameURL}}/items/{{ing.item.slug}}/{{language}}">{{ing.item.name}}</a>
                    }@if (ing.category) {
                    <a routerLink="/{{gameURL}}/categories/{{ing.category.slug}}/{{language}}">{{ing.category.name}}</a>
                  } x{{ing.num}}</li>
                }
              </ul>
            </td></tr>
          </tbody></table>
        }
        @if (item.effectline_set) {
          <table class="tbl"><tbody>
            <tr><th colspan=2>Effects</th></tr>
            @if (itemone) {
              <tr><td>Item 1</td><td>
                <ul style="margin-bottom:0;">
                  @for (eff of item.effectline_set; track eff) {
                    @if (eff.itemnum == 1) {
                      <li><a routerLink="/{{gameURL}}/effects/{{eff.effect.slug}}/{{language}}">{{eff.effect.name}}</a></li>
                    }
                  }
                </ul>
              </td></tr>
            }
            @if (itemtwo) {
              <tr><td>Item 2</td><td>
                <ul style="margin-bottom:0;">
                  @for (eff of item.effectline_set; track eff) {
                    @if (eff.itemnum == 2) {
                      <li><a routerLink="/{{gameURL}}/effects/{{eff.effect.slug}}/{{language}}">{{eff.effect.name}}</a></li>
                    }
                  }
                </ul>
            </td></tr>
          }
          @if (itemthree) {
            <tr><td>Item 3</td><td>
              <ul style="margin-bottom:0;">
                @for (eff of item.effectline_set; track eff) {
                  @if (eff.itemnum == 3) {
                    <li><a routerLink="/{{gameURL}}/effects/{{eff.effect.slug}}/{{language}}">{{eff.effect.name}}</a></li>
                  }
                }
              </ul>
            </td></tr>
          }
        </tbody></table>
  }
  @if (item.equip_set) {
    <table class="tbl"><tbody>
      <tr><th>Materials</th></tr>
      <tr><td>
        <ul>
          @for (item of item.equip_set[0].material; track item) {
            <li><a routerLink="/{{gameURL}}/items/{{item.slug}}/{{language}}">{{item.name}}</a></li>
          }
        </ul>
      </td></tr>
    </tbody></table>
  }
  @if (item.equip_set) {
    <table class="tbl"><tbody>
      <tr>
        <th colspan=2>Stats</th>
      </tr>
      <tr>
        <td style="padding-top:0.2rem;text-align:right;width:50%;"><b>HP </b></td>
        <td style="padding-top:0.2rem;padding-left:0.5em;">{{item.equip_set[0].hp}}@if (!item.equip_set[0].hp) { 0 }</td>
      </tr>
      <tr>
        <td style="border-top:transparent;padding-top:0;text-align:right;width:50%;"><b>MP </b></td>
        <td style="border-top:transparent;padding-top:0;padding-left:0.5em;">{{item.equip_set[0].mp}}@if
          (!item.equip_set[0].mp) { 0 }</td>
      </tr>
      <tr>
        <td style="border-top:transparent;padding-top:0;text-align:right;width:50%;"><b>LP </b></td>
        <td style="border-top:transparent;padding-top:0;padding-left:0.5em;">{{item.equip_set[0].lp}}@if
          (!item.equip_set[0].lp) { 0 }</td>
      </tr>
      <tr>
        <td style="border-top:transparent;padding-top:0;text-align:right;width:50%;"><b>ATK </b></td>
        <td style="border-top:transparent;padding-top:0;padding-left:0.5em;">{{item.equip_set[0].atk}}@if
          (!item.equip_set[0].atk) { 0 }</td>
      </tr>
      <tr>
        <td style="border-top:transparent;padding-top:0;text-align:right;width:50%;"><b>DEF </b></td>
        <td style="border-top:transparent;padding-top:0;padding-left:0.5em;">{{item.equip_set[0].defen}}@if
          (!item.equip_set[0].defen) { 0 }</td>
      </tr>
      <tr>
        <td style="border-top:transparent;padding-top:0;text-align:right;width:50%;"><b>SPD </b></td>
        <td style="border-top:transparent;padding-top:0;padding-left:0.5em;">{{item.equip_set[0].spd}}@if
          (!item.equip_set[0].spd) { 0 }</td>
      </tr>
    </tbody></table>
}
@if (item.equip_set) {
  <table class="tbl"><tbody>
    <tr><th>Characters</th></tr>
    <tr><td>@for (char of item.equip_set[0].chars; track char) {
      <img src="{{imgURL}}resources/equip_{{char.name}}.webp"
        alt="Can equip: {{char.name}}"
        style="aspect-ratio: 86/85; width: 86px;">
    }</td></tr>
  </tbody></table>
}
</div>
}