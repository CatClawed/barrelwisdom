<Error *ngIf="error" [errorCode]="errorCode" [errorVars]="errorVars"></Error>

<div *ngIf="!error">
<nav *ngIf="showNav" style="margin-top: 1em;" aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="/">Barrel Wisdom</a></li>
    <li class="breadcrumb-item"><a href="/escha">Atelier Escha &amp; Logy</a></li>
    <li class="breadcrumb-item"><a href="/escha/items">Items</a></li>
    <li class="breadcrumb-item active" aria-current="page">{{item.name}}</li>
  </ol>
</nav>
<div class="mx-auto row">
 <div class="{{colset}} card griddisplay card-body">
    <div class="flex">
        <h4 class="card-title  card-icon-space">{{item.name}}</h4>
        <div class="card-icon-position">
          <b style="padding-right:0.5em;">LV {{item.level}}</b>
        </div>
    </div>
    <div class="card-display-bottom">
      <img class="image-display" loading="lazy" src="/media/games/escha/items/{{item.slugname}}.png">
    </div>
    <div class="card-text">
      <p>{{item.desc}}</p>
      <p *ngIf="item.book_set"><b>Recipe Book: </b><a href="/escha/recipe-books/{{item.book_set[0].slugname}}">{{item.book_set[0].name}}</a></p>
      <p *ngIf="item.size"><b>Size: </b>{{item.size}}</p>
      <div class="row" style="justify-content: space-between;margin: 0.5em;">
          <table>
            <tr *ngFor="let cat of item.categories">
                <td style="text-align: center;"><i class="atelier atelier-{{cat.icon_name}}"></i></td><td><a href="/escha/categories/{{cat.slugname}}">{{cat.name}}</a></td>
            </tr>
          </table>
          <table>
            <tr>
              <td colspan=2>
                <i style="padding:0;color:#ac504f;" *ngIf="item.fire" class="atelier atelier-shallie-fire"></i>
                <i style="padding:0;color:#427389;" *ngIf="item.water" class="atelier atelier-shallie-water"></i>
                <i style="padding:0;color:#5a843c;" *ngIf="item.wind" class="atelier atelier-shallie-wind"></i>
                <i style="padding:0;color:#8f7939;" *ngIf="item.earth" class="atelier atelier-shallie-earth"></i>
                  {{item.evalue}}
              </td>
            </tr>
          </table>
      </div>
      <b *ngIf="item.relic_set">Relic Locations:</b>
      <ul *ngIf="item.relic_set">
        <li *ngFor="let loc of item.relic_set"><a href="/escha/locations/{{loc.region.slugname}}">{{loc.region.name}}</a></li>
      </ul>
      <b *ngIf="item.disassembly_set">Disassembles to:</b>
      <ul *ngIf="item.disassembly_set">
        <li *ngFor="let it of item.disassembly_set[0].dis"><a href="/escha/items/{{it.slugname}}">{{it.name}}</a></li>
      </ul>
      <b *ngIf="item.disassembled_set">Disassembled from:</b>
      <ul *ngIf="item.disassembled_set">
        <li *ngFor="let it of item.disassembled_set[0].parent"><a href="/escha/items/{{it.slugname}}">{{it.name}}</a></li>
      </ul>
      <b *ngIf="item.locations">Locations:</b>
      <ul *ngIf="item.locations">
        <li *ngFor="let loc of item.locations"><a *ngIf="!loc.parentslug" href="/escha/locations/{{loc.slugname}}">{{loc.name}}</a><a *ngIf="loc.parentslug" href="/escha/locations/{{loc.parentslug}}">{{loc.name}}</a></li>
      </ul>
      <b *ngIf="item.monsters">Monsters:</b>
      <ul *ngIf="item.monsters">
        <li *ngFor="let mon of item.monsters"><a href="/escha/monsters/{{mon.slugname}}">{{mon.name}}</a></li>
      </ul>
      <b *ngIf="item.properties">Properties:</b>
      <ul *ngIf="item.properties">
        <li *ngFor="let prop of item.properties"><a href="/escha/properties/{{prop.slugname}}">{{prop.name}}</a></li>
      </ul>
      <table *ngIf="item.ingredient_set" class="table">
        <tr><th style="text-align: center;background-color:rgba(211, 211, 211, 0.3);">Ingredients</th></tr>
        <tr><td>
          <ul>
           <li *ngFor="let ing of item.ingredient_set"><a *ngIf="ing.item" href="/escha/items/{{ing.item.slugname}}">{{ing.item.name}}</a><a *ngIf="ing.category" href="/escha/categories/{{ing.category.slugname}}">{{ing.category.name}}</a></li>
          </ul>
        </td></tr>
      </table>
        <table *ngIf="item.effectline_set" class="table">
          <tr><th colspan=2 style="text-align: center;background-color:rgba(211, 211, 211, 0.3);">Effects</th></tr>
          <tr *ngIf="fire">
            <td style="vertical-align:middle"><i style="padding:0;color:#ac504f;"  class="atelier atelier-shallie-fire"></i></td>
            <td>
              <ng-container *ngFor="let eff of item.effectline_set">
                <a *ngIf="eff.elem == 'fire'" href="/escha/effects/{{eff.effect.slugname}}">{{eff.effect.name}}</a><span *ngIf="eff.elem == 'fire'"> ({{eff.min_elem}}-{{eff.max_elem}})</span>
                <div *ngIf="eff.elem == 'fire'" class="effect-bar">
                  <div class="elemental-bar" style="background:#ac504f;left:{{eff.min_elem}}%;width:{{eff.max_elem-eff.min_elem}}%;"></div>
                </div>
              </ng-container>
            </td>
          </tr>
          <tr *ngIf="water">
            <td style="vertical-align:middle"><i style="padding:0;color:#427389;" class="atelier atelier-shallie-water"></i></td>
            <td>
              <ng-container *ngFor="let eff of item.effectline_set">
                <a *ngIf="eff.elem == 'water'" href="/escha/effects/{{eff.effect.slugname}}">{{eff.effect.name}}</a><span *ngIf="eff.elem == 'water'"> ({{eff.min_elem}}-{{eff.max_elem}})</span>
                <div *ngIf="eff.elem == 'water'" class='effect-bar'>
                  <div class="elemental-bar" style="background:#427389;left:{{eff.min_elem}}%;width:{{eff.max_elem-eff.min_elem}}%;"></div>
                </div>
              </ng-container>
            </td>
          </tr>
          <tr *ngIf="wind">
            <td style="vertical-align:middle"><i style="padding:0;color:#5a843c;"  class="atelier atelier-shallie-wind"></i></td>
            <td>
              <ng-container *ngFor="let eff of item.effectline_set">
                <a *ngIf="eff.elem == 'wind'" href="/escha/effects/{{eff.effect.slugname}}">{{eff.effect.name}}</a><span *ngIf="eff.elem == 'wind'"> ({{eff.min_elem}}-{{eff.max_elem}})</span>
                <div *ngIf="eff.elem == 'wind'" class='effect-bar'>
                  <div class="elemental-bar" style="background:#5a843c;left:{{eff.min_elem}}%;width:{{eff.max_elem-eff.min_elem}}%;"></div>
                </div>
              </ng-container>
            </td>
          </tr>
          <tr *ngIf="earth">
            <td style="vertical-align:middle"><i style="padding:0;color:#8f7939;" class="atelier atelier-shallie-earth"></i></td>
            <td>
              <ng-container *ngFor="let eff of item.effectline_set">
                <a *ngIf="eff.elem == 'earth'" href="/escha/effects/{{eff.effect.slugname}}">{{eff.effect.name}}</a><span *ngIf="eff.elem == 'earth'"> ({{eff.min_elem}}-{{eff.max_elem}})</span>
                <div *ngIf="eff.elem == 'earth'" class='effect-bar'>
                  <div class="elemental-bar" style="background:#8f7939;left:{{eff.min_elem}}%;width:{{eff.max_elem-eff.min_elem}}%;"></div>
                </div>
              </ng-container>
            </td>
          </tr>
        </table>
        <table *ngIf="item.equip_set" class="table">
          <tr><th colspan=4 style="text-align: center;background-color:rgba(211, 211, 211, 0.3);">Stats</th></tr>
          <tr><td style="padding-top:0.2rem;width:25%;"><b>HP </b></td> <td style="padding-top:0.2rem;padding-left:0.5em;width:25%">{{item.equip_set[0].hp}}   </td><td style="padding-top:0.2rem;padding-left:0;width:25%"><i style="color:#ac504f;" class="atelier atelier-shallie-fire"></i></td>  <td style="padding-top:0.2rem;padding-left:0;width:25%%;">{{item.equip_set[0].fire}}</td></tr>
          <tr><td style="border-top:transparent;padding-top:0;width:25%;"><b>MP </b></td> <td style="border-top:transparent;padding-top:0;padding-left:0.5em;width:25%">{{item.equip_set[0].mp}}   </td><td style="border-top:transparent;padding:0;width:25%"><i style="color:#427389;" class="atelier atelier-shallie-water"></i></td> <td style="border-top:transparent;padding:0;width:25%%;">{{item.equip_set[0].water}}</td></tr>
          <tr><td style="border-top:transparent;padding-top:0;width:25%;"><b>ATK </b></td><td style="border-top:transparent;padding-top:0;padding-left:0.5em;width:25%">{{item.equip_set[0].atk}}  </td><td style="border-top:transparent;padding:0;width:25%"><i style="color:#5a843c;" class="atelier atelier-shallie-wind"></i></td>  <td style="border-top:transparent;padding:0;width:25%%;">{{item.equip_set[0].wind}}</td></tr>
          <tr><td style="border-top:transparent;padding-top:0;width:25%;"><b>DEF </b></td><td style="border-top:transparent;padding-top:0;padding-left:0.5em;width:25%">{{item.equip_set[0].defen}}</td><td style="border-top:transparent;padding:0;width:25%"><i style="color:#8f7939;" class="atelier atelier-shallie-earth"></i></td> <td style="border-top:transparent;padding:0;width:25%%;">{{item.equip_set[0].earth}}</td></tr>
          <tr><td style="border-top:transparent;padding-top:0;width:25%;"><b>SPD </b></td><td style="border-top:transparent;padding-top:0;padding-left:0.5em;width:25%">{{item.equip_set[0].spd}}  </td></tr>
        </table>
        <table *ngIf="item.characterequip_set" class="table">
          <tr><th style="text-align: center;background-color:rgba(211, 211, 211, 0.3);">Characters</th></tr>
          <tr><td><img *ngFor="let char of item.characterequip_set[0].chars" src="/media/games/escha/equip/equip-{{char.name}}.png"></td></tr>
        </table>
     </div>
  </div>
  <language-settings *ngIf="showNav" style="margin-top: 1em;" class="col-md-3" section="escha"></language-settings>
 </div>
</div>