<Error *ngIf="error" [errorCode]="error"></Error>
<ng-container *ngIf="tower">
<Breadcrumb [breadcrumbs]="[[gameTitle, '/'+gameURL]]" [current]="title"></Breadcrumb>
<h1>{{title}}</h1>
  <div class="table-of-contents">
      <b>Table of Contents</b>
      <ol>
          <li *ngFor="let floor of tower">
              <a href="/{{gameURL}}/quests/tower/{{language}}#{{floor.floor}}"
                (click)="$event.preventDefault();scroll(floor.floor)">
                Floor {{floor.floor}}
              </a>
          </li>
      </ol>
  </div>

<ng-container *ngFor="let floor of tower">
  <h2 id="{{floor.floor}}">Floor {{floor.floor}}</h2>
    <p>
        <b>Combat Level: </b>{{floor.combat_level}}<br/>
    </p>
    <div style="display:grid;grid-template-columns:repeat(4,23%);grid-row-gap:1rem;grid-column-gap:2%;">
        <div style="position:relative;text-align:center;" *ngFor="let reward of floor.rewards">
            <a routerLink="/{{gameURL}}/items/materials/{{reward.item.slug}}/{{language}}">
                <img loading="lazy" class="resleri-item-frame-sm"
                    style="aspect-ratio:1;width:150px;background-image:url({{imgURL}}svg/item-frame-{{reward.item.rarity}}.svg)"
                    src="{{imgURL}}items/{{reward.item.slug}}.webp" alt="{{reward.item.name}}"><br />
                {{reward.item.name}}</a> x{{reward.num}}
        </div>
    </div>
</ng-container>
</ng-container>