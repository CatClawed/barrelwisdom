<ng-template #contents>
    <img loading="lazy" width="100%" src="{{imgURL}}characters/face/{{chara.slug}}.webp"
        alt="{{chara.name + ' ' + chara.title}}"
        style="position:absolute;z-index:10;max-height:83%;max-width:83%;-webkit-clip-path: polygon(0 0, 100% 0%, 100% 50%, 50% 100%, 0 50%);clip-path: polygon(0 0, 100% 0%, 100% 50%, 50% 100%, 0 50%);left:50%;top:50%;transform:translate(-50%, -50%);">
    <div style="display:flex;width:100%;position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);">
        <svg viewBox="0 0 125 250" style="max-width:100%;">
            <path [attr.fill]="a25service.colors[chara.color1]"
                d="M128.315904 232.287744H122.368L24.448 134.368256V122.399744L122.368 24.479744H128.34304L128.34304 6.144H121.31328L6.11328 121.344V135.424L121.31328 250.624H128.3072zM128.335872 227.199488H124.000256L29.536256 132.735488V124.031488L124.000256 29.567488H128.326656z" />
        </svg>
        <svg viewBox="0 0 125 250" style="max-width:100%;transform:scale(-1,1)">
            <path [attr.fill]="a25service.colors[chara.color2]"
                d="M128.315904 232.287744H122.368L24.448 134.368256V122.399744L122.368 24.479744H128.34304L128.34304 6.144H121.31328L6.11328 121.344V135.424L121.31328 250.624H128.3072zM128.335872 227.199488H124.000256L29.536256 132.735488V124.031488L124.000256 29.567488H128.326656z" />
        </svg>
    </div>
    <img style="aspect-ratio:48/45;width:25%;filter:drop-shadow(5px 5px 5px black);position:absolute;bottom:0;left:3%;"
        src="{{imgURL}}characters/{{chara.role}}.webp" alt="{{chara.role}}" />
    <i class="atelier atelier-np atelier-resleri-{{chara.elem}} a25-char-font"
        style="background-color:{{a25service.elements[chara.elem]}};"></i>
</ng-template>

<div [style]="!collectionMode || inCollection() ? 'text-align:center;cursor: pointer;' : 'text-align:center;filter:grayscale(.8);cursor: pointer;'"
    (click)="$event.preventDefault(); buttonClicked.emit($event)">
    <div style="aspect-ratio:1;position:relative;">
        @if (!collectionMode) {
            <a href="/{{gameURL}}/characters/{{chara.slug}}/{{language}}">
                <ng-content *ngTemplateOutlet="contents"></ng-content>
            </a>
        }
        @else {
            <ng-content *ngTemplateOutlet="contents"></ng-content>
        }
    </div>
    <div class="a25-star-font fa-solid" [innerHTML]="fetchStars(chara.id, chara.rarity)"></div>
</div>