{"version":3,"file":"ngx-bootstrap-rating.js","sources":["ng:/ngx-bootstrap/rating/rating.config.ts","ng:/ngx-bootstrap/rating/rating.component.ts","ng:/ngx-bootstrap/rating/rating.module.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\n\n/** Default values provider for rating */\n@Injectable()\nexport class RatingConfig {\n  /** aria label for rating */\n  ariaLabel = 'rating';\n}\n","import {\n  Component,\n  EventEmitter,\n  HostListener,\n  Input,\n  OnInit,\n  Output,\n  forwardRef, TemplateRef, ChangeDetectionStrategy, ChangeDetectorRef\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { AccessorContent, RatingResults } from './models';\nimport { RatingConfig } from './rating.config';\n\nexport const RATING_CONTROL_VALUE_ACCESSOR: AccessorContent = {\n  provide: NG_VALUE_ACCESSOR,\n  /* tslint:disable-next-line: no-use-before-declare */\n  useExisting: forwardRef(() => RatingComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'rating',\n  templateUrl: './rating.component.html',\n  providers: [RATING_CONTROL_VALUE_ACCESSOR],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RatingComponent implements ControlValueAccessor, OnInit {\n  /** number of icons */\n  @Input() max = 5;\n  /** if true will not react on any user events */\n  @Input() readonly: boolean;\n  /** array of icons titles, default: ([\"one\", \"two\", \"three\", \"four\", \"five\"]) */\n  @Input() titles: string[];\n  /** custom template for icons */\n  // tslint:disable-next-line:no-any\n  @Input() customTemplate: TemplateRef<any>;\n  /** fired when icon selected, $event:number equals to selected rating */\n  @Output() onHover: EventEmitter<number> = new EventEmitter();\n  /** fired when icon selected, $event:number equals to previous rating value */\n  @Output() onLeave: EventEmitter<number> = new EventEmitter();\n\n  // tslint:disable-next-line:no-any\n  onChange: any = Function.prototype;\n  // tslint:disable-next-line:no-any\n  onTouched: any = Function.prototype;\n  /** aria label for rating */\n  ariaLabel: string;\n  range: RatingResults[];\n  value: number;\n  protected preValue: number;\n\n  constructor(private changeDetection: ChangeDetectorRef,\n              config: RatingConfig) {\n    Object.assign(this, config);\n  }\n\n  @HostListener('keydown', ['$event'])\n  onKeydown(event: KeyboardEvent): void {\n    /* tslint:disable-next-line: deprecation */\n    if ([37, 38, 39, 40].indexOf(event.which) === -1) {\n      return;\n    }\n\n    event.preventDefault();\n    event.stopPropagation();\n    /* tslint:disable-next-line: deprecation */\n    const sign = event.which === 38 || event.which === 39 ? 1 : -1;\n    this.rate(this.value + sign);\n  }\n\n  ngOnInit(): void {\n    this.max = typeof this.max !== 'undefined' ? this.max : 5;\n    this.titles =\n      typeof this.titles !== 'undefined' && this.titles.length > 0\n        ? this.titles\n        : [];\n    this.range = this.buildTemplateObjects(this.max);\n  }\n\n  // model -> view\n  writeValue(value: number): void {\n    if (value % 1 !== value) {\n      this.value = Math.round(value);\n      this.preValue = value;\n      this.changeDetection.markForCheck();\n\n      return;\n    }\n\n    this.preValue = value;\n    this.value = value;\n    this.changeDetection.markForCheck();\n  }\n\n  enter(value: number): void {\n    if (!this.readonly) {\n      this.value = value;\n      this.changeDetection.markForCheck();\n      this.onHover.emit(value);\n    }\n  }\n\n  reset(): void {\n    this.value = Math.round(this.preValue);\n    this.changeDetection.markForCheck();\n    this.onLeave.emit(this.value);\n  }\n\n  registerOnChange(fn: (_: number) => {}): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: () => {}): void {\n    this.onTouched = fn;\n  }\n\n  rate(value: number): void {\n    if (!this.readonly && value >= 0 && value <= this.range.length) {\n      this.writeValue(value);\n      this.onChange(value);\n    }\n  }\n\n  protected buildTemplateObjects(max: number): RatingResults[] {\n    const result: RatingResults[] = [];\n    for (let i = 0; i < max; i++) {\n      result.push({\n          index: i,\n          title: this.titles[i] || i + 1\n        });\n    }\n\n    return result;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule, ModuleWithProviders } from '@angular/core';\n\nimport { RatingComponent } from './rating.component';\nimport { RatingConfig } from './rating.config';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [RatingComponent],\n  exports: [RatingComponent]\n})\nexport class RatingModule {\n  static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: RatingModule,\n      providers: [RatingConfig]\n    };\n  }\n}\n"]}